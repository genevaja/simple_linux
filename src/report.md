# D01\_Linux-0 genevaja

## Part 1. Установка ОС
- Скриншот вывода команды

- ![Вывод cat /etc/issue](./images/part_1.png "Вывод cat /etc/issue")

## Part 2. Создание пользователя
- Cоздание пользователя

- ![Cоздание пользователя](./images/part_2_1.png "Создание пользователя")
- Вывод файла /etc/passwd

- ![/etc/passwd](./images/part_2_2.png "Вывод файла /etc/passwd")
- Вывод информации о принадлежности к группам

- ![Принадлежность к группам](./images/part_2_3.png "Вывод информации о принадлежности к группе")

## Part 3. Настройка сети ОС
- Замена названия машины

- ![Замена названия машины](./images/part_3_1.png "Замена названия машины")
- Временная зона до и после изменений

- ![Временная зона до изменений](./images/part_3_2_after.png "Временная зона до и после изменений")
- Информация о сетевых интерфейсах

- ![Информация о сетевых интерфейсах](./images/part_3_3.png "Информация о сетевых интерфейсах")
- Сетевой интерфейс **lo**

lo (он же loopback) - сетевой интерфейс, который позволяет перенаправлять исходящий пакет на вход той же системы. Одна из возможностей применения - взаимодействие между локальными процессами через сетевую подсистему.
Loopback так же используется в стеке протоколов TCP/IP. Одна из областей применения - возможность попасть на, так сказать, сайт собственного компьютера при вводе http://127.0.0.1/ или http://localhost/. Такая страничка нужна для коммуникации с серверными приложениями.

- **DHCP**

DHCP (Dynamic Host Configuration Protocol) - позволяет автоматически получать данные о сети (IP-адрес, маску подсети, широковещательный адрес, шлюз, сервера имен и прочее). Это возможно при наличии DHCP сервера.
- Вывод на экран внешнего ip-адреса шлюза, внутренний ip-адрес

- ![Вывод ip route](./images/part_3_4.png "Вывод ip route")
- Замена ip на статичный

Для замены ip на статичный я отредактировал файл /etc/netplan/00-installer-config.yaml и прописал необходимые параметры

- ![config.yaml](./images/part_3_5.png "Содержимое config.yaml")
- Финальный отчёт с результатами ping

- ![финальный отчёт по третьей части](./images/part_3_6.png "Финальный отчёт")

## Part 4. Обновление ОС
- Скриншот с выводом apt update

- ![Скриншот с выводом apt update](./images/part_4.png "Вывод команды sudo apt update")

## Part 5. Использование команды sudo
- **sudo**

Sudo (super user do) - программа, принимающая в качестве аргумента командную строку, выполняемую с правами root. Позволяет запускать программы от лица супер-пользователя. Чтобы пользователь мог выполнять команды sudo, он должен быть включён либо в специальную группу супер-пользователей, либо напрямую указан в файле /etc/sudoers

- Добавление группы adm в файл /etc/sudoers

Сначала я добавил группу adm в файл /etc/sudoers.
Затем при помощи команды su я авторизовался под testuser, которым внёс изменения в файле /etc/hostname
После перезагрузки системы, hostname поменялся

- ![Добавление группы в /etc/sudoers](./images/part_5_1.png "Добавление группы adm в /etc/sudoers")

- ![Вход в систему от лица testuser](./images/part_5_2.png "Вход в систему от лица testuser и внесение изменений в файл /etc/hostname")

## Part 6. Установка и настройка службы времени

- ![Скрин с корректным временем и выводом команды](./images/part_6.png "Вывод корректного времени и команды timedatectl show")

## Part 7. Установка и использование текстовых редакторов

- EMACS

Для сохранения файла последовательно нажал ctrl-x ctrl-s. Для выхода ctrl-z

- ![EMACS](./images/part_7_1_emacs.png "EMACS")

- VIM

Для сохранения файла перешёл в командный режим и ввёл команду :wq

- ![VIM](./images/part_7_1_vim.png "VIM")

- NANO

Для сохранения файла нажал ctrl-x и подтвердил название файла, в котором сохраняю текст

- ![NANO](./images/part_7_1_nano.png "NANO")

- EMACS. Выход без сохранения 

Для выхода без сохранения изменения просто нажал ctrl-z
- ![EMACS. Exit without saving](./images/part_7_2_emacs_woutsave.png "Emacs. Exit without saving")

- VIM. Выход без сохранения

Для выхода без сохранения в командном режиме ввел :q!
- ![VIM. Exit without saving](./images/part_7_2_vim_woutsave.png "VIM. Exit without saving")

- NANO. Выход без сохранения

Для выхода без сохранения нажал ctrl-x и "no" на предложение сохранить изменения.
- ![NANO. Exit without saving](./images/part_7_2_nano_woutsave.png "Nano. Exit without saving")

- EMACS. Поиск и замена слова

Для поиска и замены текста сначала нажал ESC затем нажал "x" и ввёл команду replace-string, после чего ввёл слово, которое хочу заменить и нажал enter. После чего ввёл слово, которое хотел вставить взамен и применил изменение глобально. После чего сохранил изменения
- ![EMACS. Search and replace](./images/part_7_3_emacs_start.png "Предварительный вывод содержимого файла")
- ![EMACS. Search and replace](./images/part_7_3_emacs_1.png "Шаг 1. Ввожу команду replace-string")
- ![EMACS. Search and replace](./images/part_7_3_emacs_2.png "Шаг 2. Указываю паттерн для поиска")
- ![EMACS. Search and replace](./images/part_7_3_emacs_3.png "Шаг 3. Указываю паттерн для замены")
- ![EMACS. Search and replace](./images/part_7_3_emacs_4.png "Шаг 4. Демонстрация изменений")
- ![EMACS. Search and replace](./images/part_7_3_emacs_final.png "Вывод файла test_EMACS.txt")

- VIM. Поиск и замена слова

Для поиска и замены текста воспользовался всего одной командой :s/SEARCH\_PATTERN/PATTERN\_TO\_REPLACE/g, где s (substitute) - команда для замены, а g (global) это глобальная замена по всему файлу
- ![VIM. Search and replace](./images/part_7_3_vim_start.png "Предварительный вывод содержимого файла")
- ![VIM. Search and replace](./images/part_7_3_vim_1.png "Шаг 1. Поиск и замена слова")
- ![VIM. Search and replace](./images/part_7_3_vim_final.png "Вывод файла test_VIM.txt")

- NANO. Поиск и замена слова

Для поиска и замены текста сначала нажал комбинацию ctrl-\ затем указал слово, которое хочу изменить. Нажал enter и написа слово, которое хочу поставить взамен и применил изменения ко всем совпадениям
- ![NANO. Search and replace](./images/part_7_3_nano_start.png "Предварительный вывод содержимого файла")
- ![NANO. Search and replace](./images/part_7_3_nano_1.png "Шаг 1. Ввожу команду replace-string")
- ![NANO. Search and replace](./images/part_7_3_nano_2.png "Шаг 2. Указываю паттерн для поиска")
- ![NANO. Search and replace](./images/part_7_3_nano_3.png "Шаг 3. Указываю паттерн для замены")
- ![NANO. Search and replace](./images/part_7_3_nano_4.png "Шаг 4. Демонстрация изменений")
- ![NANO. Search and replace](./images/part_7_3_nano_final.png "Вывод файла test_NANO.txt")

## Part 8. Установка и базовая настройка сервиса SSHD

- Сначала надо установить ssh-server при помощи команды sudo apt install openssh-server.
- Затем необходимо включить ssh в автозагрузку демоном systemd. Это делается при помощи команды sudo systemctl enable ssh
- Затем ssh необходимо запустить при помощи команды sudo systemctl start ssh
- Для поиска процесса я воспользовался командой ps aux, где a - в значении all (отобразить все процессы). u - user oriented format (для отображения дополнительных полей). x - для отображения всех связанных процессов.
- Systemctl - это утилита, управляющая демоном systemd
- Для изменения порта для ssh я внёс соответствующую запись в файл /etc/ssh/sshd\_config
- netstat -tan. Команда выводит на экран содержимое различных структур данных, связанных с сетью. Флаг -t нужен для отображения только TCP портов. Флаг -a для отображения всех портов. Флаг -n заменяет слова на цифры. Например замена слова ssh на указание порта, используемого службой. Или замены слова localhost на ip-адрес. 
- 0.0.0.0 в поле локального адреса означает, что порт слушает все доступные сетевые интерфейсы
- ![Part 8. Final](./images/part_8_5.png "Финальный вывод после настройки ssh")

## Part 9. Установка и использование утилиты top и htop
- ![Max CPU](./images/part_9_1.png "Сортировка по максимальной загрузке процессора")
- ![Max memory](./images/part_9_2.png "Сортировка по максимальной загрузке памяти")
- uptime - непрерывное время работы системы с момента загрузки
- Авторизован 1 пользователь
- Общая загруженность системы 5 минут назад - 0.03 
- Общее количество процессов 103
- Загрузка CPU 0.0%
- Загрузка памяти 215.5МВ
- PID процесса, занимающего больше всего памяти 642 - это snapd (3.9%)
- PID процесса, занимающего больше всего процессорного времени 1 - это systemd (0.0)

- ![HTOP_PID](./images/part_9_3_PID.png "Сортировка по номеру PID")
- ![HTOP_PERCENT_CPU](./images/part_9_3_PERCENT_CPU.png "Сортировка по PERCENT CPU")
- ![HTOP_PERCENT_MEM](./images/part_9_3_PERCENT_MEM.png "Сортировка по PERCENT MEMORY")
- ![HTOP_TIME](./images/part_9_3_TIME.png "Сортировка по TIME")

## Part 10. Использование утилиты fdisk

- Диск /dev/sda 10GB 4 сектора. SWAP - 0. Его нет
- ![fdisk](./images/part_10_1.png "Использование утилиты fdisk")

## Part 11. Использование утилиты df
- ![df](./images/part_11_1.png "Отчёт для корневого раздела")

Размер раздела 9336140. Размер занятого пространства 4717260. Размер свободного пространства 4124904. Процент использования 54%.
Единицы измерения в Килобайтах.

- ![df -Th](./images/part_11_2.png "Отчёт для корневого раздела")

Размер раздела 9.0G. Занято 4.5G. Доступно 4.0G. Использовано 54%.
Файловая система ext4

## Part 12. Использование утилиты du
- ![du in bytes](./images/part_12_1_1.png "Вывод в байтах")
- ![du in human readable](./images/part_12_1_2.png "Вывод в человекочитаемом виде")
- ![du in human readable](./images/part_12_2.png "Вывод содержимого /var/log/* в человекочитаемом виде")

## Part 13. Установка и использование утилиты ncdu
- ![nsdu 1](./images/part_13_1.png "Вывод размера /home")
- ![nsdu 2](./images/part_13_2.png "Вывод размера /var")
- ![nsdu 3](./images/part_13_3.png "Вывод размера /var/log")

## Part 14. Работа с системными журналами
- Время последней успешной авторизации 16:06. Пользователь genevaja. Метод входа в систему ssh2
- ![journal 1](./images/part_14_4.png "Вывод системного журнала 1")
- ![journal 2](./images/part_14_5.png "Вывод системного журнала после перезагрузки")

## Part 15. Использование планировщика заданий CRON
- ![part 15-1](./images/part_15_1.png "Шаг 1")
- ![part 15-2](./images/part_15_2.png "Шаг 2. Отображение списка задач после добавления задания")
- ![part 15-3](./images/part_15_3.png "Шаг 3. Отчёт о выполнии задания")
- ![part 15-4](./images/part_15_4.png "Шаг 4")
